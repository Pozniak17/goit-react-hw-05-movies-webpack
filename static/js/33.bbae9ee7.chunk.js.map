{"version":3,"file":"static/js/33.bbae9ee7.chunk.js","mappings":"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","sources":["pages/MovieDetails/MovieDetails.styled.js","pages/MovieDetails/MovieDetails.jsx"],"sourcesContent":["import { Link, NavLink } from 'react-router-dom';\nimport styled from 'styled-components';\n\nexport const StyledLink = styled(NavLink)`\n  /* background-color: yellow; */\n  padding: 8px 16px;\n  border-radius: 4px;\n  text-decoration: none;\n  color: black;\n  font-weight: 500;\n\n  &.active {\n    color: white;\n    background-color: #9c27b0;\n  }\n`;\n\nexport const List = styled.ul`\n  display: flex;\n  justify-content: center;\n  margin-bottom: 20px;\n  text-align: center;\n`;\n\nexport const Item = styled.li`\n  list-style: none;\n`;\n\nexport const BackLink = styled(Link)`\n  font-weight: 400;\n  color: black;\n  background-color: #3f51b524;\n  text-decoration: none;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border: 1px dotted;\n  border-radius: 8px;\n  width: 160px;\n  margin-bottom: 10px;\n  padding: 6px;\n\n  &:hover,\n  &:focus {\n    background-color: navy;\n    color: wheat;\n  }\n`;\n","import axios from 'axios';\nimport { getYear } from 'date-fns';\nimport { MdArrowBackIos } from 'react-icons/md';\nimport { Outlet, useLocation, useParams } from 'react-router-dom';\nimport { useEffect, useRef, useState } from 'react';\nimport { BackLink, Item, List, StyledLink } from './MovieDetails.styled';\nimport { Suspense } from 'react';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\nconst key = '7e90108684ed83affdbe867f15ef1121';\n\nconst MovieDetails = () => {\n  const { movieId } = useParams();\n  const location = useLocation();\n  // console.log(location);\n\n  // const backLinkHref = location.state?.from ?? '/'; //щоб не падала сторінка, коли заходимо з нової вкладки\n  const backLinkLocationRef = useRef(location.state?.from ?? '/'); //в момент першого рендеру в ref ми зберігаємо той location з якого ми прийшли\n\n  console.log(location.state);\n  // console.log(movieId);\n\n  const [filmData, setFilmData] = useState({});\n\n  useEffect(() => {\n    const fetchMoviesById = async () => {\n      const response = await axios.get(`/movie/${movieId}?api_key=${key}`);\n      setFilmData(response.data);\n    };\n\n    fetchMoviesById();\n  }, [movieId]);\n\n  const filmGenres = filmData.genres || [];\n  const names = filmGenres.map(genre => genre.name);\n\n  const { title, overview, vote_average, release_date } = filmData;\n  const result = getYear(new Date(release_date));\n\n  return (\n    <div>\n      <BackLink to={backLinkLocationRef.current}>\n        <MdArrowBackIos />\n        BACK TO MOVIES\n      </BackLink>\n      <img\n        src={`https://image.tmdb.org/t/p/w500${filmData.poster_path}`}\n        alt=\"\"\n        width=\"320px\"\n      />\n\n      <h1>\n        {title} ({result})\n      </h1>\n      <p>User Score: {(vote_average * 10).toFixed(0)}%</p>\n      <h2>Overview</h2>\n      <p>{overview}</p>\n      <h2>genres</h2>\n\n      <ul>\n        {names.map((item, index) => (\n          <li key={index}>\n            <p>{item}</p>\n          </li>\n        ))}\n      </ul>\n\n      <List>\n        <Item>\n          <StyledLink to=\"cast\">Cast</StyledLink>\n        </Item>\n\n        <Item>\n          <StyledLink to=\"reviews\">Reviews</StyledLink>\n        </Item>\n      </List>\n\n      <Suspense fallback={<div>Loading subpage...</div>}>\n        <Outlet />\n      </Suspense>\n    </div>\n  );\n};\n\nexport default MovieDetails;\n"],"names":["StyledLink","styled","NavLink","_templateObject","_taggedTemplateLiteral","List","_templateObject2","Item","_templateObject3","BackLink","Link","_templateObject4","axios","_location$state$from","_location$state","movieId","useParams","location","useLocation","backLinkLocationRef","useRef","state","from","console","log","_useState","useState","_useState2","_slicedToArray","filmData","setFilmData","useEffect","fetchMoviesById","_ref","_asyncToGenerator","_regeneratorRuntime","_callee","response","_context","prev","next","concat","sent","data","stop","apply","arguments","names","genres","map","genre","name","title","overview","vote_average","release_date","result","getYear","Date","_jsxs","children","to","current","_jsx","MdArrowBackIos","src","poster_path","alt","width","toFixed","item","index","Suspense","fallback","Outlet"],"sourceRoot":""}